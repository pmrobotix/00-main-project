<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TEST: RELEASE_NOTES</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RELEASE_NOTES </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Table of Contents</b> <em>generated with <a href="https://github.com/thlorenz/doctoc">DocToc</a></em></p>
<ul>
<li><a href="#cocos2d-x-3131-release-notes">Cocos2d-x 3.13.1 Release Notes</a></li>
<li><a href="#misc-information">Misc Information</a></li>
<li><a href="#v3131">v3.13.1</a><ul>
<li><a href="#bug-fixed">Bug fixed</a></li>
<li><a href="#cocos-command-modification">Cocos command modification</a></li>
</ul>
</li>
</ul>
<h1>Cocos2d-x 3.13.1 Release Notes</h1>
<h1>Misc Information</h1>
<ul>
<li><a href="https://github.com/cocos2d/cocos2d-x/blob/v3/CHANGELOG">Full Changelog</a></li>
</ul>
<h1>v3.13.1</h1>
<h2>Bug fixed</h2>
<ul>
<li><a class="el" href="classLabel.html" title="Label is a subclass of Node that knows how to render text labels. ">Label</a> color broken</li>
<li>application will crash in debug mode if don't specify a design resolution</li>
<li>may crash if coming from background by clicking application icon on Android</li>
<li>AudioEngine can not play audio if the audio lies outside APK on Android</li>
<li>AudioEngine::stop() will trigger <code>finish</code> callback on Android</li>
<li>application will crash if using <a class="el" href="interfaceSimpleAudioEngine.html">SimpleAudioEngine</a> or new AudioEngine to play audio on Android 2.3.x</li>
<li>object.setString() has not effect if passing a number on JSB</li>
</ul>
<h2>Cocos command modification</h2>
<p>In previous, cocos command will find an Android API level &gt;= specified Android API level to build source codes on Android. For example, if the content of <code>APP_ROOT/proj.android/project.properties</code> is</p>
<div class="fragment"><div class="line">target=android-13 // the default android api level</div><div class="line">android.library.reference.1=../../../cocos/platform/android/java</div></div><!-- fragment --><p> then cocos command will find <code>android-13</code> in <code>ANDROID_SDK_ROOT/platforms</code>, if not found then it will find <code>android-14</code>, if <code>android-14</code> is not found, then it will find <code>android-15</code> and so on until it found one.</p>
<p>This algorithm has a problem that if you only download Android 21, then application will be built with Android 21 though the default API level is 13. If the application runs on a device with lower Android OS(such as Android 4.0), then the application may crash. Building with high API level Android SDK can not make sure run on devices with low Android OS. It is reasonable, an applicatoin build with iOS 9 can not make sure run on iOS 8.</p>
<p>Since v3.13.1, cocos command will stop if it can not find specific API level(default is android-13). If you want to build with high level Android SDK, you should explicitely specify it like this:</p>
<div class="fragment"><div class="line">cocos compile -p android --ap android-19</div></div><!-- fragment --><p>Keep in mind that, after running this command, content of <code>APP_ROOT/proj.android/project.properties</code> will be changed, <code>android-19</code> will be the default API level.</p>
<p>There is a map between Android API level and Android OS version, can refer to <a href="https://developer.android.com/guide/topics/manifest/uses-sdk-element.html">this documentation</a> for detail information.</p>
<p>Can refer to <a href="https://github.com/cocos2d/cocos2d-x/milestone/33">here</a> for detail information about these issues. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
