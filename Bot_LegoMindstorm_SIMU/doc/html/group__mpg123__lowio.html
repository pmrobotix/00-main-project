<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TEST: mpg123 low level I/O</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mpg123 low level I/O</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4004912737be35ad51ff4dac17022407"><td class="memItemLeft" align="right" valign="top">EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpg123__lowio.html#ga4004912737be35ad51ff4dac17022407">mpg123_replace_buffer</a> (<a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *mh, unsigned char *data, size_t size)</td></tr>
<tr class="separator:ga4004912737be35ad51ff4dac17022407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07215fe811cff7925517e5548768e652"><td class="memItemLeft" align="right" valign="top">EXPORT size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpg123__lowio.html#ga07215fe811cff7925517e5548768e652">mpg123_outblock</a> (<a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *mh)</td></tr>
<tr class="separator:ga07215fe811cff7925517e5548768e652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8112b25fedb2d52c76abb1b103e6e2cc"><td class="memItemLeft" align="right" valign="top">EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpg123__lowio.html#ga8112b25fedb2d52c76abb1b103e6e2cc">mpg123_replace_reader</a> (<a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *mh, ssize_t(*r_read)(int, void *, size_t), off_t(*r_lseek)(int, off_t, int))</td></tr>
<tr class="separator:ga8112b25fedb2d52c76abb1b103e6e2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce158687fce659acb242952b0a30916"><td class="memItemLeft" align="right" valign="top">EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpg123__lowio.html#gacce158687fce659acb242952b0a30916">mpg123_replace_reader_handle</a> (<a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *mh, ssize_t(*r_read)(void *, void *, size_t), off_t(*r_lseek)(void *, off_t, int), void(*cleanup)(void *))</td></tr>
<tr class="separator:gacce158687fce659acb242952b0a30916"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>You may want to do tricky stuff with I/O that does not work with mpg123's default file access or you want to make it decode into your own pocket... </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga07215fe811cff7925517e5548768e652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07215fe811cff7925517e5548768e652">&#9670;&nbsp;</a></span>mpg123_outblock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT size_t mpg123_outblock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *&#160;</td>
          <td class="paramname"><em>mh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The max size of one frame's decoded output with current settings. Use that to determine an appropriate minimum buffer size for decoding one frame. </p>

</div>
</div>
<a id="ga4004912737be35ad51ff4dac17022407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4004912737be35ad51ff4dac17022407">&#9670;&nbsp;</a></span>mpg123_replace_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT int mpg123_replace_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *&#160;</td>
          <td class="paramname"><em>mh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace default internal buffer with user-supplied buffer. Instead of working on it's own private buffer, mpg123 will directly use the one you provide for storing decoded audio. Note that the required buffer size could be bigger than expected from output encoding if libmpg123 has to convert from primary decoder output (p.ex. 32 bit storage for 24 bit output. </p>

</div>
</div>
<a id="ga8112b25fedb2d52c76abb1b103e6e2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8112b25fedb2d52c76abb1b103e6e2cc">&#9670;&nbsp;</a></span>mpg123_replace_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT int mpg123_replace_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *&#160;</td>
          <td class="paramname"><em>mh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t(*)(int, void *, size_t)&#160;</td>
          <td class="paramname"><em>r_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t(*)(int, off_t, int)&#160;</td>
          <td class="paramname"><em>r_lseek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace low-level stream access functions; read and lseek as known in POSIX. You can use this to make any fancy file opening/closing yourself, using <a class="el" href="group__mpg123__input.html#gaf205cf0e2c2a6612f564b17d50d227f4">mpg123_open_fd()</a> to set the file descriptor for your read/lseek (doesn't need to be a "real" file descriptor...). Setting a function to NULL means that the default internal read is used (active from next mpg123_open call on). Note: As it would be troublesome to mess with this while having a file open, this implies <a class="el" href="group__mpg123__input.html#ga1c86c6042807ab7734b67a829ee7a2e7">mpg123_close()</a>. </p>

</div>
</div>
<a id="gacce158687fce659acb242952b0a30916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacce158687fce659acb242952b0a30916">&#9670;&nbsp;</a></span>mpg123_replace_reader_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT int mpg123_replace_reader_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mpg123__init.html#ga6728e2839a395f3a07d4514da659faca">mpg123_handle</a> *&#160;</td>
          <td class="paramname"><em>mh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t(*)(void *, void *, size_t)&#160;</td>
          <td class="paramname"><em>r_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t(*)(void *, off_t, int)&#160;</td>
          <td class="paramname"><em>r_lseek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>cleanup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace I/O functions with your own ones operating on some kind of handle instead of integer descriptors. The handle is a void pointer, so you can pass any data you want... <a class="el" href="group__mpg123__input.html#gad6637826d5288242db3eef0ba6c421ba">mpg123_open_handle()</a> is the call you make to use the I/O defined here. There is no fallback to internal read/seek here. Note: As it would be troublesome to mess with this while having a file open, this <a class="el" href="group__mpg123__input.html#ga1c86c6042807ab7734b67a829ee7a2e7">mpg123_close()</a> is implied here. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r_read</td><td>The callback for reading (behaviour like posix read). </td></tr>
    <tr><td class="paramname">r_lseek</td><td>The callback for seeking (like posix lseek). </td></tr>
    <tr><td class="paramname">cleanup</td><td>A callback to clean up an I/O handle on mpg123_close, can be NULL for none (you take care of cleaning your handles). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
