\hypertarget{group__service}{}\section{Built-\/in service loop entry}
\label{group__service}\index{Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\item 
\mbox{\Hypertarget{group__service_ga6ea5876f3c73bf201b250d041805b706}\label{group__service_ga6ea5876f3c73bf201b250d041805b706}} 
\#define {\bfseries lws\+\_\+plat\+\_\+service\+\_\+tsi}~\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int \hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, int timeout\+\_\+ms)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int \hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, int timeout\+\_\+ms, int tsi)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN void \hyperlink{group__service_ga29c246707997ab7a466aa709aecd2d7b}{lws\+\_\+cancel\+\_\+service\+\_\+pt} (struct \hyperlink{structlws}{lws} $\ast$wsi)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN void \hyperlink{group__service_ga53e3d0801dfda7960a7249dd559e68a2}{lws\+\_\+cancel\+\_\+service} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int \hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, struct lws\+\_\+pollfd $\ast$pollfd)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int \hyperlink{group__service_gaebf426eda371ba23642fc11d8e0ace6b}{lws\+\_\+service\+\_\+fd\+\_\+tsi} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, struct lws\+\_\+pollfd $\ast$pollfd, int tsi)
\item 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int \hyperlink{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}{lws\+\_\+service\+\_\+adjust\+\_\+timeout} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, int timeout\+\_\+ms, int tsi)
\item 
\mbox{\Hypertarget{group__service_ga14937ff6dd3e2b0104c2fe60c0a41e46}\label{group__service_ga14937ff6dd3e2b0104c2fe60c0a41e46}} 
L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int {\bfseries lws\+\_\+handle\+\_\+\+P\+O\+L\+L\+O\+U\+T\+\_\+event} (struct \hyperlink{structlws}{lws} $\ast$wsi, struct lws\+\_\+pollfd $\ast$pollfd)
\item 
L\+W\+S\+\_\+\+E\+X\+T\+E\+RN L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE int \hyperlink{group__service_gab1ff2c19455268fa0d5b617d8057fbfc}{lws\+\_\+plat\+\_\+service\+\_\+tsi} (struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$context, int timeout\+\_\+ms, int tsi)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
lws\+\_\+client\+\_\+http\+\_\+body\+\_\+pending() -\/ control if client connection neeeds to send body


\begin{DoxyParams}{Parameters}
{\em wsi} & client connection \\
\hline
{\em something\+\_\+left\+\_\+to\+\_\+send} & nonzero if need to send more body, 0 (default) if nothing more to send\\
\hline
\end{DoxyParams}
If you will send payload data with your H\+T\+TP client connection, eg, for P\+O\+ST, when you set the related http headers in L\+W\+S\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+A\+P\+P\+E\+N\+D\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+ER callback you should also call this A\+PI with something\+\_\+left\+\_\+to\+\_\+send nonzero, and call lws\+\_\+callback\+\_\+on\+\_\+writable(wsi);

After sending the headers, lws will call your callback with L\+W\+S\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+T\+T\+P\+\_\+\+W\+R\+I\+T\+E\+A\+B\+LE reason when writable. You can send the next part of the http body payload, calling lws\+\_\+callback\+\_\+on\+\_\+writable(wsi); if there is more to come, or lws\+\_\+client\+\_\+http\+\_\+body\+\_\+pending(wsi, 0); to let lws know the last part is sent and the connection can move on.

\subsubsection*{Built-\/in service loop entry}

If you\textquotesingle{}re not using libev / libuv, these apis are needed to enter the poll() wait in lws and service any connections with pending events. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__service_ga53e3d0801dfda7960a7249dd559e68a2}\label{group__service_ga53e3d0801dfda7960a7249dd559e68a2}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+cancel\+\_\+service@{lws\+\_\+cancel\+\_\+service}}
\index{lws\+\_\+cancel\+\_\+service@{lws\+\_\+cancel\+\_\+service}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+cancel\+\_\+service()}{lws\_cancel\_service()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN void lws\+\_\+cancel\+\_\+service (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context }\end{DoxyParamCaption})}

\hyperlink{group__service_ga53e3d0801dfda7960a7249dd559e68a2}{lws\+\_\+cancel\+\_\+service()} -\/ Cancel wait for new pending socket activity 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context\\
\hline
\end{DoxyParams}
This function let a call to \hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()} waiting for a timeout immediately return.

What it basically does is provide a fake event that will be swallowed, so the wait in poll() is ended. That\textquotesingle{}s useful because poll() doesn\textquotesingle{}t attend to changes in P\+O\+L\+L\+I\+N/\+O\+U\+T/\+E\+RR until it re-\/enters the wait. \mbox{\Hypertarget{group__service_ga29c246707997ab7a466aa709aecd2d7b}\label{group__service_ga29c246707997ab7a466aa709aecd2d7b}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+cancel\+\_\+service\+\_\+pt@{lws\+\_\+cancel\+\_\+service\+\_\+pt}}
\index{lws\+\_\+cancel\+\_\+service\+\_\+pt@{lws\+\_\+cancel\+\_\+service\+\_\+pt}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+cancel\+\_\+service\+\_\+pt()}{lws\_cancel\_service\_pt()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN void lws\+\_\+cancel\+\_\+service\+\_\+pt (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws}{lws} $\ast$}]{wsi }\end{DoxyParamCaption})}

\hyperlink{group__service_ga29c246707997ab7a466aa709aecd2d7b}{lws\+\_\+cancel\+\_\+service\+\_\+pt()} -\/ Cancel servicing of pending socket activity on one thread 
\begin{DoxyParams}{Parameters}
{\em wsi} & Cancel service on the thread this wsi is serviced by\\
\hline
\end{DoxyParams}
This function lets a call to \hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()} waiting for a timeout immediately return.

It works by creating a phony event and then swallowing it silently.

The reason it may be needed is when waiting in poll(), changes to the event masks are ignored by the OS until poll() is reentered. This lets you halt the poll() wait and make the reentry happen immediately instead of having the wait out the rest of the poll timeout. \mbox{\Hypertarget{group__service_gab1ff2c19455268fa0d5b617d8057fbfc}\label{group__service_gab1ff2c19455268fa0d5b617d8057fbfc}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+plat\+\_\+service\+\_\+tsi@{lws\+\_\+plat\+\_\+service\+\_\+tsi}}
\index{lws\+\_\+plat\+\_\+service\+\_\+tsi@{lws\+\_\+plat\+\_\+service\+\_\+tsi}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+plat\+\_\+service\+\_\+tsi()}{lws\_plat\_service\_tsi()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+E\+X\+T\+E\+RN L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE int lws\+\_\+plat\+\_\+service\+\_\+tsi (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{int}]{timeout\+\_\+ms,  }\item[{int}]{tsi }\end{DoxyParamCaption})}

\hyperlink{group__service_gab1ff2c19455268fa0d5b617d8057fbfc}{lws\+\_\+plat\+\_\+service\+\_\+tsi()} -\/ Lowlevel platform-\/specific service api 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & The original poll timeout value. You can just set this to 1 if you don\textquotesingle{}t really have a poll timeout. \\
\hline
{\em tsi} & thread service index\\
\hline
\end{DoxyParams}
For default poll() and libuv/ev, lws takes care of using this for you. and you can ignore it.

But for external poll() integration, you need access to this api to service connections that need to be serviced but have no pending network activity.

See \hyperlink{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}{lws\+\_\+service\+\_\+adjust\+\_\+timeout()} for more info. \mbox{\Hypertarget{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}\label{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+service@{lws\+\_\+service}}
\index{lws\+\_\+service@{lws\+\_\+service}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+service()}{lws\_service()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int lws\+\_\+service (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{int}]{timeout\+\_\+ms }\end{DoxyParamCaption})}

\hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()} -\/ Service any pending websocket activity 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & Timeout for poll; 0 means return immediately if nothing needed service otherwise block and service immediately, returning after the timeout if nothing needed service.\\
\hline
\end{DoxyParams}
This function deals with any pending websocket traffic, for three kinds of event. It handles these events on both server and client types of connection the same.

1) Accept new connections to our context\textquotesingle{}s server

2) Call the receive callback for incoming frame data received by server or client connections.

You need to call this service function periodically to all the above functions to happen; if your application is single-\/threaded you can just call it in your main event loop.

Alternatively you can fork a new process that asynchronously handles calling this service in a loop. In that case you are happy if this call blocks your thread until it needs to take care of something and would call it with a large nonzero timeout. Your loop then takes no C\+PU while there is nothing happening.

If you are calling it in a single-\/threaded app, you don\textquotesingle{}t want it to wait around blocking other things in your loop from happening, so you would call it with a timeout\+\_\+ms of 0, so it returns immediately if nothing is pending, or as soon as it services whatever was pending. \mbox{\Hypertarget{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}\label{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+service\+\_\+adjust\+\_\+timeout@{lws\+\_\+service\+\_\+adjust\+\_\+timeout}}
\index{lws\+\_\+service\+\_\+adjust\+\_\+timeout@{lws\+\_\+service\+\_\+adjust\+\_\+timeout}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+service\+\_\+adjust\+\_\+timeout()}{lws\_service\_adjust\_timeout()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int lws\+\_\+service\+\_\+adjust\+\_\+timeout (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{int}]{timeout\+\_\+ms,  }\item[{int}]{tsi }\end{DoxyParamCaption})}

\hyperlink{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}{lws\+\_\+service\+\_\+adjust\+\_\+timeout()} -\/ Check for any connection needing forced service 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & The original poll timeout value. You can just set this to 1 if you don\textquotesingle{}t really have a poll timeout. \\
\hline
{\em tsi} & thread service index\\
\hline
\end{DoxyParams}
Under some conditions connections may need service even though there is no pending network action on them, this is \char`\"{}forced service\char`\"{}. For default poll() and libuv / libev, the library takes care of calling this and dealing with it for you. But for external poll() integration, you need access to the apis.

If anybody needs \char`\"{}forced service\char`\"{}, returned timeout is zero. In that case, you can call \hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi()} with a timeout of -\/1 to only service guys who need forced service.

\hyperlink{group__service_ga4fd9d714434ca499e2b3f7dbba86f241}{lws\+\_\+service\+\_\+adjust\+\_\+timeout()} -\/ Check for any connection needing forced service 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & The original poll timeout value. You can just set this to 1 if you don\textquotesingle{}t really have a poll timeout. \\
\hline
{\em tsi} & thread service index\\
\hline
\end{DoxyParams}
Under some conditions connections may need service even though there is no pending network action on them, this is \char`\"{}forced service\char`\"{}. For default poll() and libuv / libev, the library takes care of calling this and dealing with it for you. But for external poll() integration, you need access to the apis.

If anybody needs \char`\"{}forced service\char`\"{}, returned timeout is zero. In that case, you can call \hyperlink{group__service_gab1ff2c19455268fa0d5b617d8057fbfc}{lws\+\_\+plat\+\_\+service\+\_\+tsi()} with a timeout of -\/1 to only service guys who need forced service. \mbox{\Hypertarget{group__service_gad82efa5466d14a9f05aa06416375b28d}\label{group__service_gad82efa5466d14a9f05aa06416375b28d}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+service\+\_\+fd@{lws\+\_\+service\+\_\+fd}}
\index{lws\+\_\+service\+\_\+fd@{lws\+\_\+service\+\_\+fd}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+service\+\_\+fd()}{lws\_service\_fd()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int lws\+\_\+service\+\_\+fd (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{struct lws\+\_\+pollfd $\ast$}]{pollfd }\end{DoxyParamCaption})}

\hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd()} -\/ Service polled socket with something waiting 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em pollfd} & The pollfd entry describing the socket fd and which events happened, or N\+U\+LL to tell lws to do only timeout servicing.\\
\hline
\end{DoxyParams}
This function takes a pollfd that has P\+O\+L\+L\+IN or P\+O\+L\+L\+O\+UT activity and services it according to the state of the associated struct lws.

The one call deals with all \char`\"{}service\char`\"{} that might happen on a socket including listen accepts, http files as well as websocket protocol.

If a pollfd says it has something, you can just pass it to \hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd()} whether it is a socket handled by lws or not. If it sees it is a lws socket, the traffic will be handled and pollfd-\/$>$revents will be zeroed now.

If the socket is foreign to lws, it leaves revents alone. So you can see if you should service yourself by checking the pollfd revents after letting lws try to service it.

You should also call this with pollfd = N\+U\+LL to just allow the once-\/per-\/second global timeout checks; if less than a second since the last check it returns immediately then.

\hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd()} -\/ Service polled socket with something waiting 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em pollfd} & The pollfd entry describing the socket fd and which events happened.\\
\hline
\end{DoxyParams}
This function takes a pollfd that has P\+O\+L\+L\+IN or P\+O\+L\+L\+O\+UT activity and services it according to the state of the associated struct lws.

The one call deals with all \char`\"{}service\char`\"{} that might happen on a socket including listen accepts, http files as well as websocket protocol.

If a pollfd says it has something, you can just pass it to \hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd()} whether it is a socket handled by lws or not. If it sees it is a lws socket, the traffic will be handled and pollfd-\/$>$revents will be zeroed now.

If the socket is foreign to lws, it leaves revents alone. So you can see if you should service yourself by checking the pollfd revents after letting lws try to service it. \mbox{\Hypertarget{group__service_gaebf426eda371ba23642fc11d8e0ace6b}\label{group__service_gaebf426eda371ba23642fc11d8e0ace6b}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+service\+\_\+fd\+\_\+tsi@{lws\+\_\+service\+\_\+fd\+\_\+tsi}}
\index{lws\+\_\+service\+\_\+fd\+\_\+tsi@{lws\+\_\+service\+\_\+fd\+\_\+tsi}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+service\+\_\+fd\+\_\+tsi()}{lws\_service\_fd\_tsi()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int lws\+\_\+service\+\_\+fd\+\_\+tsi (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{struct lws\+\_\+pollfd $\ast$}]{pollfd,  }\item[{int}]{tsi }\end{DoxyParamCaption})}

\hyperlink{group__service_gaebf426eda371ba23642fc11d8e0ace6b}{lws\+\_\+service\+\_\+fd\+\_\+tsi()} -\/ Service polled socket in specific service thread 
\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em pollfd} & The pollfd entry describing the socket fd and which events happened. \\
\hline
{\em tsi} & thread service index\\
\hline
\end{DoxyParams}
Same as \hyperlink{group__service_gad82efa5466d14a9f05aa06416375b28d}{lws\+\_\+service\+\_\+fd()} but used with multiple service threads \mbox{\Hypertarget{group__service_ga9b3cc4473fd8848e5bbee7f310712939}\label{group__service_ga9b3cc4473fd8848e5bbee7f310712939}} 
\index{Built-\/in service loop entry@{Built-\/in service loop entry}!lws\+\_\+service\+\_\+tsi@{lws\+\_\+service\+\_\+tsi}}
\index{lws\+\_\+service\+\_\+tsi@{lws\+\_\+service\+\_\+tsi}!Built-\/in service loop entry@{Built-\/in service loop entry}}
\subsubsection{\texorpdfstring{lws\+\_\+service\+\_\+tsi()}{lws\_service\_tsi()}}
{\footnotesize\ttfamily L\+W\+S\+\_\+\+V\+I\+S\+I\+B\+LE L\+W\+S\+\_\+\+E\+X\+T\+E\+RN int lws\+\_\+service\+\_\+tsi (\begin{DoxyParamCaption}\item[{struct \hyperlink{structlws__context}{lws\+\_\+context} $\ast$}]{context,  }\item[{int}]{timeout\+\_\+ms,  }\item[{int}]{tsi }\end{DoxyParamCaption})}

\hyperlink{group__service_ga9b3cc4473fd8848e5bbee7f310712939}{lws\+\_\+service\+\_\+tsi()} -\/ Service any pending websocket activity


\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & Timeout for poll; 0 means return immediately if nothing needed service otherwise block and service immediately, returning after the timeout if nothing needed service. \\
\hline
{\em tsi} & Thread service index, starting at 0\\
\hline
\end{DoxyParams}
Same as \hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()}, but for a specific thread service index. Only needed if you are spawning multiple service threads.

\hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()} -\/ Service any pending websocket activity


\begin{DoxyParams}{Parameters}
{\em context} & Websocket context \\
\hline
{\em timeout\+\_\+ms} & Timeout for poll; 0 means return immediately if nothing needed service otherwise block and service immediately, returning after the timeout if nothing needed service.\\
\hline
\end{DoxyParams}
Same as \hyperlink{group__service_gaf95bd0c663d6516a0c80047d9b1167a8}{lws\+\_\+service()}, but for a specific thread service index. Only needed if you are spawning multiple service threads. 